---                
layout: post            
title: "RESTful vs GraphQL"                
date:   2021-12-20 17:30:00                 
categories: "Web"                
catalog: true                
tags:                 
    - Web                
---      

# RESTful
REST作为一种现代网络应用非常流行的软件架构风格，自从Roy Fielding博士在2000年他的博士论文中提出来到现在已经有了20年的历史。它的简单易用性，可扩展性，伸缩性受到广大Web开发者的喜爱。  

REST 的 API 配合JSON格式的数据交换，使得前后端分离、数据交互变得非常容易，而且也已经成为了目前Web领域最受欢迎的软件架构设计模式。

但随着REST API的流行和发展，它的缺点也暴露了出来：

滥用REST接口，导致大量相似度很高（具有重复性）的API越来越冗余。

对于前端而言：REST API粒度较粗，难以一次性符合前端的数据要求，前端需要分多次请求接口数据。增加了前端人员的工作量。

对于后端而言：前端需要的数据往往在不同的地方具有相似性，但却又不同，比如针对同样的用户信息，有的地方只需要用户简要信息（比如头像、昵称），有些地方需要详细的信息，这就需要开发不同的接口来满足这些需求。当这样的相似但又不同的地方多的时候，就需要开发更多的接口来满足前端的需要。增加了后端开发人员的工作量和重复度。

## 示例

创建一个book，author的实例

# GraphQL
GraphQL是一种新的API标准，它提供了一种比REST更有效、更强大和更灵活的替代方案。

它是由Facebook开发并开源的，现在由来自世界各地的公司和个人组成的大型社区维护。

GraphQL本质上是一种基于api的查询语言，现在大多数应用程序都需要从服务器中获取数据，这些数据存储可能存储在数据库中，API的职责是提供与应用程序需求相匹配的存储数据的接口。

它是数据库无关的，而且可以在使用API的任何环境中有效使用，我们可以理解为GraphQL是基于API之上的一层封装，目的是为了更好，更灵活的适用于业务的需求变化。

GraphQL 对比 REST API 有什么好处？
REST API 的接口灵活性差、接口操作流程繁琐，GraphQL 的声明式数据获取，使得接口数据精确返回，数据查询流程简洁，照顾了客户端的灵活性。

客户端拓展功能时要不断编写新接口（依赖于服务端），GraphQL 中一个服务仅暴露一个 GraphQL 层，消除了服务器对数据格式的硬性规定，客户端按需请求数据，可进行单独维护和改进。

REST API 基于HTTP协议，不能灵活选择网络协议，而传输层无关、数据库技术无关使得 GraphQL 有更加灵活的技术栈选择，能够实现在网络协议层面优化应用。
## 示例



GraphQL 实际上将多个 HTTP 请求聚合成了一个请求，将多个 restful 请求的资源变成了一个从根资源 POST 访问其他资源的 Comment 和 Author 的图，多个请求变成了一个请求的不同字段，从原有的分散式请求变成了集中式的请求，因此GraphQL又可以被看成是图数据库的形式。

[我为什么要放弃 RESTful，选择拥抱 GraphQL](https://mp.weixin.qq.com/s/qkk9qkh5CGurlV4RK5sNAA)  
[基于 RESTful API 的 GraphQL 服务构建](https://zhuanlan.zhihu.com/p/78962152)  
[Github有Restful版本API了，为什么还增加Graphql版本](https://www.sohu.com/a/302497406_100212268)  