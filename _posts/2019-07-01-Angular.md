---                
layout: post                
title: "Angular学习笔记"                
date:   2019-7-4 10:30:00                 
categories: "Web"                
catalog: true                
tags:                 
    - Web                
---      

## 安装

1. Instlal NodeJs
2. Start a cmd and install following command:
    
        npm install -g @angular/cli
3. Input following command to check Angular version

        ng version
4. Initialize a new project:

        ng new projectName

## 基础

1. angular.json 里面记录了网页的入口 index, main
2. package.json 里面记录了所有的script命令
3. src/index.html 网站首页
4. src/main.ts 加载哪个module
5. src/app/app.module.ts app module里面加载了哪个component
6. src/app/app.component.ts 里面包括 修饰器， template，style和Appcomponent的一些属性设定。

7. Install other module:

        npm install jquery@3.1.1 --save
        npm install bootstrap@3.3.7 --save

安装完成之后，package.json会发生变化，记录已经安装的module。
在angular.json中新安装的module：

        "scripts": [
              "../node_modules/jquery/dist/jquery.js",
              "../node_modules/bootstrap/dist/js/bootstrap.js"
            ]

8. 安装module对应的types:

        npm install @types/jquery@2.0.39 --save-dev
        
        npm install @types/bootstrap@3.3.32 --save-dev

9. 生成新的component组件

        ng g component navbar

        ng g component footer

每添加一个组件，会生成对应的文件夹和文件，并且自动在app.modules.ts里面注册该组件：

        import { NavbarComponent } from './navbar/navbar.component';
        import { FooterComponent } from './footer/footer.component';

        @NgModule({
        declarations: [
        AppComponent,
        NavbarComponent,
        FooterComponent,
        ],

## 绑定
### 差值绑定

### 属性绑定

### 事件绑定

## Input装饰器

## 路由

## 在路由时传递数据        

### 在查询参数中传递数据

        /product?id=1&name=2 => ActivatedRoute.queryParams[id]

### 在路由路径中传递数据

        {path:/product/:id} => /product/1 => ActivatedRoute.params[id]

### 在路由配置中传递数据

        {path:/product, component:ProductComponent, data:[{isProd:true}]}
        =>  ActivatedRoute.data[0][isProd]

## 参数快照 vs 参数订阅

## 子路由与辅助路由

## 路由守卫

##注入器与提供器

## 属性绑定

        <img [src]="imgUrl">
        <img src="{{imgUrl}}">
        <button (click)="doOnClick($event)">点我</button>

HTML属性绑定
        <table>
        <tr><td [attr.colspan]="size">慕课网</td></tr>
        </table>

CSS 类绑定
1. 全部替换

        <div [class]="divClass">慕课网</div>

2. 添加类

        <div class="a b" [class.c]="isBig">慕课网</div>

CSS 样式绑定

        <div [style.color]="isDev?'red':'blue'">慕课网</div>


## 管道

管道用来处理原始值到显示值的转换

        <p>我的生日是{{birthday | date:'yyyy-MM-dd HH:mm:ss'}}</p>

        <p>圆周率是{{pi | number:'2.2-2'}}</p>

自定义管道

        ng g pipe pipe/multiple 

遇到以下问题：

        No provider for ControlContainer ("[ERROR ->]<form name="searchForms" role="forms">  

解决方法：  
在使用管道的时候，需要引入 ReactiveFormsModule,同时还要引入 FormsModule

        imports: [
          BrowserModule,
          AppRoutingModule,
          ReactiveFormsModule,  
          FormsModule,  
        ],

## 问题

1. 在声明Output属性时， 需要引入EventEmitter

        @Output
        private ratingChange:EventEmitter<number> = new EventEmitter(); //import { EventEmitter } from '@angular/core'