---
layout: post
title: 异步，多线程和并行的区别
date:   2016-11-16 16:03:14
categories: "C#"
catalog: true
tags: 
    - C#
    - Thread
    - Asynchronous
---



首先， Asynchronized （异步）和 Synchronised （同步）是相对应的。    

异步就好像去邮局发信一样，你希望把信发到A家，你把信交给邮局工作人员就可以回家了，不用等着A收到在回家，这个就是异步.    

同步是，你给A打电话，如果打通了， 你一言我一语的就开始交流，这就是同步。   

多线程是你同时给A,B,C...打电话。 多线程是程序设计的逻辑层概念，它是进程中并发运行的一段代码。多线程可以实现线程间的切换执行。 
 
异步和同步是相对的，同步就是顺序执行，执行完一个再执行下一个，需要等待、协调运行。异步就是彼此独立,在等待某事件的过程中继续做自己的事，不需要等待这一事件完成后再工作。线程就是实现异步的一个方式。异步是让调用方法的主线程不需要同步等待另一线程的完成，从而可以让主线程干其它的事情。    

异步和多线程并不是一个同等关系,异步是最终目的,多线程只是我们实现异步的一种手段。实现异步可以采用多线程技术或则交给另外的进程来处理。  
异步和多线程两者都可以达到避免调用线程阻塞的目的，从而提高软件的可响应性。  

异步操作的优缺点  
因为异步操作无须额外的线程负担，并且使用回调的方式进行处理，在设计良好的情况下，处理函数可以不必使用共享变量（即使无法完全不用，最起码可以减少 共享变量的数量），减少了死锁的可能。当然异步操作也并非完美无暇。编写异步操作的复杂程度较高，程序主要使用回调方式进行处理，与普通人的思维方式有些出入，而且难以调试。   

多线程的优缺点  
多线程的优点很明显，线程中的处理程序依然是顺序执行，符合普通人的思维习惯，所以编程简单。但是多线程的缺点也同样明显，线程的使用（滥用）会给系统带来上下文切换的额外负担。并且线程间的共享变量可能造成死锁的出现。   

DMA就是直 接内存访问的意思，也就是说，拥有DMA功能的硬件在和内存进行数据交换的时候可以不消耗CPU资源。只要CPU在发起数据传输时发送一个指令，硬件就开 始自己和内存交换数据，在传输完成之后硬件会触发一个中断来通知操作完成。这些无须消耗CPU时间的I/O操作正是异步操作的硬件基础。  

当需要执行I/O操作时，使用异步操作比使用线程+同步 I/O操作更合适。I/O操作不仅包括了直接的文件、网络的读写，还包括数据库操作、Web Service、HttpRequest以及.net Remoting等跨进程的调用。   

而线程的适用范围则是那种需要长时间CPU运算的场合，例如耗时较长的图形处理和算法执行。但是往往由于使用线程编程的简单和符合习惯，所以很多朋友往往会使用线程来执行耗时较长的I/O操作。这样在只有少数几个并发操作的时候还无伤大雅，如果需要处理大量的并发操作时就不合适了。   